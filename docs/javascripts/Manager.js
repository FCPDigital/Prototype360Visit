function MapManager(t){this.el=t,this.maps=[],this.photoManager=new PhotoManager(this),this.visiteBody=this.el.querySelector(".visite__body"),this.closeMapButton=this.el.querySelector("#close-map-button"),this.nav=new NavMap(this);for(var s=this.el.querySelectorAll(".map"),e=0;e<s.length;e++)this.maps.push(new MapItem(s[e],this));this.initEvents(),this.regular()}MapManager.prototype={config:{step:100,offset:50},initEvents:function(){for(var t=this,s=0;s<this.maps.length;s++)this.initEvent(this.maps[s],s);this.closeMapButton.addEventListener("click",function(){t.regular();for(var s=0;s<t.maps.length;s++)t.maps[s].toRegular()})},initEvent:function(t,s){var e=this;t.el.addEventListener("mouseenter",function(){"map"!=e.mode&&e.focus(s)}),t.el.addEventListener("mouseleave",function(){"map"!=e.mode&&e.regular()}),t.el.addEventListener("click",function(){e.select(s)})},getMapRankFromId:function(t){for(var s=0;s<this.maps.length;s++)if(this.maps[s].id==t)return s;return null},regular:function(){for(var t=this.maps.length,s=t-1*this.config.step,e=0;e<this.maps.length;e++)this.maps[e].setPosition(-1*e*this.config.step-s/2+this.config.offset),this.maps[e].fade(!1);this.currentMap=null,this.mode="regular",this.closeMapButton.classList.remove("map__close--display"),this.nav.unSelectAll()},focus:function(t){for(var s=this.maps.length,e=s-1*this.config.step,i=0;i<this.maps.length;i++){var a=0;i<t?a=20:i>t&&(a=-20),t==i?this.maps[i].fade(!1):this.maps[i].fade(!0),this.maps[i].setPosition(-1*i*this.config.step-e/2+this.config.offset+a)}this.mode="focus"},select:function(t){for(var s=0;s<this.maps.length;s++)s<t?this.maps[s].toTop():s>t?this.maps[s].toBottom():(this.maps[s].select(),this.currentMap=this.maps[s],this.mode="map");this.nav.selectFromMap(this.currentMap),this.closeMapButton.classList.add("map__close--display")}};